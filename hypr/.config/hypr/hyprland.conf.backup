###############################################################
#   Brendon Hyprland Rice â€” Minimal Purple Setup
#   Laptop + Two External Monitors
#   Smart Lid-Based Laptop Screen On/Off
###############################################################

# ---------------------------
# MONITORS
# ---------------------------
monitor = DVI-I-2,1680x1050@59.88,0x0,1
monitor = DVI-I-1,1680x1050@59.95,1680x0,1 
 
   
# External monitors (adjust positions as needed):

# Laptop screen (enabled, but auto-managed via lid script)
monitor=eDP-1,preferred,auto,1

# Run lid script on startup
exec-once = ~/.config/hypr/scripts/lid.sh

# Re-check lid every 3 seconds
exec = bash -c "while true; do ~/.config/hypr/scripts/lid.sh; sleep 3; done"


# ---------------------------
# INPUT
# ---------------------------
input {
    kb_layout = us
    follow_mouse = 1
    repeat_rate = 35
    repeat_delay = 300
}


# ---------------------------
# GENERAL APPEARANCE
# ---------------------------
general {
    gaps_in = 6
    gaps_out = 12
    border_size = 3
    col.active_border = rgb(401D61)
    col.inactive_border = rgb(251A47)
    resize_on_border = true
}

decoration {
    blur {
        enabled = true
        size = 8
        passes = 3
        ignore_opacity = true
    }
}


# ---------------------------
# KEYBINDS
# ---------------------------
$mod = ALT  

bind = $mod, Return, exec, konsole
bind = $mod, Q, killactive,
bind = $mod, D, exec, rofi -show drun
bind = $mod, E, exec, dolphin
bind = $mod, L, exec, hyprlock

# Focus movement
bind = $mod, H, movefocus, l
bind = $mod, J, movefocus, d
bind = $mod, K, movefocus, u
bind = $mod, L, movefocus, r

# Workspaces
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5

# ---------------------------
# MOUSE BINDS FOR FLOATING WINDOWS
# ---------------------------
bindm = $mod, mouse:272, movewindow      # Super + Left Click drag
bindm = $mod, mouse:273, resizewindow    # Super + Right Click drag
bind = $mod SHIFT, space, togglefloating


# ---------------------------
# WINDOW RULES (REPLACING KDE)
# ---------------------------

# Center all new windows
windowrulev2 = center, class:.*

# Your rice windows (matching your earlier naming conventions)
windowrulev2 = float,title:^(Riceupskulls)$
windowrulev2 = move 50 50,title:^(Riceupskulls)$

windowrulev2 = float,title:^(Riceupfastfetch)$
windowrulev2 = move 550 50,title:^(Riceupfastfetch)$

windowrulev2 = float,title:^(RicedupCaca)$
windowrulev2 = move 1050 50,title:^(RicedupCaca)$

# Make Kitty float when needed
windowrulev2 = center,class:^(kitty)$

windowrulev2 = nofocus,class:^(xwaylandvideobridge)$
windowrulev2 = noanim,class:^(xwaylandvideobridge)$
windowrulev2 = opacity 0,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$
windowrulev2 = float,class:^(xwaylandvideobridge)$
windowrulev2 = size 1 1,class:^(xwaylandvideobridge)$
windowrulev2 = move 99999 99999,class:^(xwaylandvideobridge)$


# ---------------------------
# AUTOSTART
# ---------------------------

# Notifications
exec-once = mako

# Bar (Waybar)
exec-once = waybar

# Wallpaper Engine (linux-beta or webe)
# exec-once = steam steam://rungameid/431960
# or webe later

# YOUR custom rice launcher later
exec-once = ~/.config/hypr/scripts/startup.sh
