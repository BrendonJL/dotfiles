# Kitty Configuration
# ====================

# Font Configuration
font_family      FiraCode Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 12.0

# Enable font ligatures (arrows, equals, etc)
disable_ligatures never

# Window Configuration
window_padding_width 12
background_opacity 0.95
background_blur 32
hide_window_decorations yes
confirm_os_window_close 0

# Cursor Configuration
cursor_shape block
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# Mouse
mouse_hide_wait 3.0
url_style curly
open_url_with default
detect_urls yes
copy_on_select yes
strip_trailing_spaces smart

# Scrollback
scrollback_lines 10000
scrollback_pager_history_size 10
# Use bat as scrollback pager if available, otherwise less
scrollback_pager bash -c "command -v bat > /dev/null && bat --style=plain --paging=always || less -R"

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes

# Bell
enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab "ðŸ”” "

# Terminal features
shell_integration enabled
allow_hyperlinks yes
term xterm-kitty

# Undercurl support (for nvim diagnostics)
undercurl_style thin-sparse

# Remote control (for scripting)
allow_remote_control socket-only
listen_on unix:/tmp/kitty-socket

# Tab bar (base settings - colors come from dank-tabs.conf)
tab_bar_edge top
tab_bar_style powerline
tab_bar_align left
tab_bar_min_tabs 1
tab_switch_strategy previous

# Window layouts
enabled_layouts splits,stack,tall,fat,grid

# ===== Key Bindings =====

# Clipboard (Konsole-style)
map ctrl+c copy_or_interrupt
map ctrl+v paste_from_clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard

# Font size
map ctrl+plus change_font_size all +1.0
map ctrl+minus change_font_size all -1.0
map ctrl+0 change_font_size all 0

# Tabs
map ctrl+t new_tab_with_cwd
map ctrl+shift+t new_tab
map ctrl+w close_tab
map ctrl+tab next_tab
map ctrl+shift+tab previous_tab
map ctrl+1 goto_tab 1
map ctrl+2 goto_tab 2
map ctrl+3 goto_tab 3
map ctrl+4 goto_tab 4
map ctrl+5 goto_tab 5

# Windows/Splits
map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+n new_os_window_with_cwd
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window

# Splits (vim-style)
map ctrl+shift+- launch --location=hsplit --cwd=current
map ctrl+shift+\ launch --location=vsplit --cwd=current
map ctrl+shift+h neighboring_window left
map ctrl+shift+l neighboring_window right
map ctrl+shift+k neighboring_window up
map ctrl+shift+j neighboring_window down

# Resize windows
map ctrl+shift+r start_resizing_window

# Scrollback
map ctrl+shift+g show_scrollback
map ctrl+shift+f show_scrollback  # search in scrollback

# Misc
map ctrl+shift+f5 load_config_file
map ctrl+shift+f6 debug_config
map ctrl+shift+u kitten unicode_input

# ===== Include DMS-generated theme files =====
# These are generated by matugen/DMS and will be overwritten on wallpaper change
include dank-tabs.conf
include dank-theme.conf
